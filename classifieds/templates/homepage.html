{% extends "classifieds-base.html" %}

{% block subpage_title %}
    | Home
{% endblock %}

{% block internal %}
<div>
    {% if values.__len__() == 0 %}
        <p class="noPosts">There are no active posts to show.</p>
    {% else %}
<div class="table">
    <div class="sorting">
        <div class="centered">
{#            <select class="selectSort">#}
{#                <option>Select how to sort the postings</option>#}
{#                <option id="titleAZ" value="sortByTitleAZ">Sort by Title A-Z</option>#}
{#                <option id="titleZA" value="sortByTitleZA">Sort by Title Z-A</option>#}
{#                <option id="descriptionAZ" value="sortByDescriptionAZ">Sort by Description A-Z</option>#}
{#                <option id="descriptionZA" value="sortByDescriptionZA">Sort by Description Z-A</option>#}
{#                <option id="priceAZ" value="sortByPrice">Sort by Price</option>#}
{#                <option id="priceZA" value="reversePriceOrder">Reverse Price Order</option>#}
{#                <option id="dateAZ" value="sortByDate">Sort by Date</option>#}
{#                <option id="dateZA" value="reverseDateOrder">Reverse Date Order</option>#}
{#                <option id="postedByAZ" value="sortByPostedByAZ">Sort by Posted By A-Z</option>#}
{#                <option id="postedByZA" value="sortByPostedByZA">Sort by Posted By Z-A</option>#}
{#            </select>#}
            <div class="centered">
                <button id="titleAZ" class="button">Sort by Title A-Z</button>
                <button id="descriptionAZ" class="button">Sort by Description A-Z</button>
                <button id="priceAZ" class="button">Sort by Price</button>
                <button id="dateAZ" class="button">Sort by Date</button>
                <button id="postedByAZ" class="button">Sort by PostedBy</button>
            </div>
            <div class="centered">
                <button id="titleZA" class="button">Reverse Title Order</button>
                <button id="descriptionZA" class="button">Reverse Description Order</button>
                <button id="priceZA" class="button">Reverse Price Order</button>
                <button id="dateZA" class="button">Reverse Date Order</button>
                <button id="postedByZA" class="button">Reverse Posted By Order</button>
            </div>
        </div>
        <script>
{#            $( "#titleAZ" ).click(function() {#}
{#                alert( "Handler for .click() called." );#}
{#            });#}
            document.getElementById("titleAZ").addEventListener("click", function(){sortPosts(".title > a", true)});
            document.getElementById("titleZA").addEventListener("click", function(){sortPostsReverse(".title > a")});
            document.getElementById("descriptionAZ").addEventListener("click", function(){sortPosts(".description > article")});
            document.getElementById("descriptionZA").addEventListener("click", function(){sortPostsReverse(".description > article")});
            document.getElementById("priceAZ").addEventListener("click", function(){sortPosts(".price")});
            document.getElementById("priceZA").addEventListener("click", function(){sortPostsReverse(".price")});
            document.getElementById("dateAZ").addEventListener("click", function(){sortPosts(".date")});
            document.getElementById("dateZA").addEventListener("click", function(){sortPostsReverse(".date")});
            document.getElementById("postedByAZ").addEventListener("click", function(){sortPosts(".postedBy > a")});
            document.getElementById("postedByZA").addEventListener("click", function(){sortPostsReverse(".postedBy > a")});

            function sortPosts(sortQuery, reverse) {
                jQuery(".table > .singlePost").sort(function (a, b) {
                    var upA = jQuery('> .row > ' + sortQuery, a).text().toUpperCase();
                    var upB = jQuery('> .row > ' + sortQuery, b).text().toUpperCase();
                    if (upA < upB) {
                        return -1;
                    }
                    else {
                        return 1;
                    }
                }).appendTo('.table');
            };

{#            function sortPostsReverse(sortQuery) {#}
{#                jQuery(".table > .singlePost").sort(function (a, b) {#}
{#                    var upA = jQuery('> .row > ' + sortQuery, a).text().toUpperCase();#}
{#                    var upB = jQuery('> .row > ' + sortQuery, b).text().toUpperCase();#}
{#                    return upA < upB;#}
{#                }).appendTo('.table');#}
{#            };#}
        </script>
    </div>
{#    <div class="sorting">#}
{#        <div class="centered">#}
{#            <button id="titleButtonAZ" class="button">Sort by Title A-Z</button>#}
{#            <button id="descriptionButtonAZ" class="button">Sort by Description A-Z</button>#}
{#            <button id="priceButtonAZ" class="button">Sort by Price</button>#}
{#            <button id="dateButtonAZ" class="button">Sort by Date</button>#}
{#            <button id="postedByButtonAZ" class="button">Sort by Posted By A-Z</button>#}
{#        </div>#}
{#        <div class="centered">#}
{#            <button id="titleButtonZA" class="button">Reverse Title Order</button>#}
{#            <button id="descriptionButtonZA" class="button">Reverse Description Order</button>#}
{#            <button id="priceButtonZA" class="button">Reverse Price Order</button>#}
{#            <button id="dateButtonZA" class="button">Reverse Date Order</button>#}
{#            <button id="postedByButtonZA" class="button">Reverse Posted By Order</button>#}
{#        </div>#}
{#        <script>#}
{#            document.getElementById("titleButtonAZ").addEventListener("click", function(){sortPosts(".title > a")});#}
{#            document.getElementById("titleButtonZA").addEventListener("click", function(){sortPostsReverse(".title > a")});#}
{#            document.getElementById("descriptionButtonAZ").addEventListener("click", function(){sortPosts(".description > article")});#}
{#            document.getElementById("descriptionButtonZA").addEventListener("click", function(){sortPostsReverse(".description > article")});#}
{#            document.getElementById("priceButtonAZ").addEventListener("click", function(){sortPosts(".price")});#}
{#            document.getElementById("priceButtonZA").addEventListener("click", function(){sortPostsReverse(".price")});#}
{#            document.getElementById("dateButtonAZ").addEventListener("click", function(){sortPosts(".date")});#}
{#            document.getElementById("dateButtonZA").addEventListener("click", function(){sortPostsReverse(".date")});#}
{#            document.getElementById("postedByButtonAZ").addEventListener("click", function(){sortPosts(".postedBy > a")});#}
{#            document.getElementById("postedByButtonZA").addEventListener("click", function(){sortPostsReverse(".postedBy > a")});#}
{##}
{#            function sortPosts(sortQuery) {#}
{#                jQuery(".table > .singlePost").sort(function (a, b) {#}
{#                    var upA = jQuery('> .row > ' + sortQuery, a).text().toUpperCase();#}
{#                    var upB = jQuery('> .row > ' + sortQuery, b).text().toUpperCase();#}
{#                    return upA > upB;#}
{#                }).appendTo('.table');#}
{#            };#}
{##}
{#            function sortPostsReverse(sortQuery) {#}
{#                jQuery(".table > .singlePost").sort(function (a, b) {#}
{#                    var upA = jQuery('> .row > ' + sortQuery, a).text().toUpperCase();#}
{#                    var upB = jQuery('> .row > ' + sortQuery, b).text().toUpperCase();#}
{#                    return upA < upB;#}
{#                }).appendTo('.table');#}
{#            };#}
{#        </script>#}
{#    </div>#}
{% for val in values %}
    <div id="singlePost-{{ loop.index }}" class="singlePost">
        <div class="row">
            <div class="cell">Title: </div>
            <div class="title cell"><a href="/view-classified/{{ val[0] }}">{{ val[1] }}</a></div>
        </div>
        <div class="row">
            <div class="cell">Description: </div>
            <div class="description cell"><article>{{ val[2] }}</article></div>
        </div>
        <div class="row">
            <div class="cell">Price: </div>
            <div class="price cell">{{ val[3] }}</div>
        </div>
        <div class="row">
            <div class="cell">Date Posted: </div>
            <div class="date cell">{{ val[4].date() }}</div>
        </div>
        <div class="row">
            <div class="cell">Posted By: </div>
            <div class="postedBy cell"><a href="/view-contact/{{ val[5] }}">{{ val[6] }}</a></div>
        </div>
        {% if showStatus == True %}
            <div class="row">
                <div class="cell">Status</div>
                <div class="status cell">
                    {% if val[7] == True %}
                    Completed
                    {% elif val[8] == True %}
                    Expired
                    {% else %}
                    Active
                    {% endif %}
                </div>
            </div>
        {% endif %}
    <hr/>
    </div>
{% endfor %}
</div>
    {% endif %}
</div>
{% endblock %}